<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fraud Detection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>ЁЯТ╗ Fraud Detection ЁЯТ░</h1>
        <form method="POST" action="/predict">
            <label>Step:</label>
            <input type="number" name="step" required><br>

            <label>Type:</label>
            <select name="type" required>
                <option value="CASH_OUT">CASH_OUT</option>
                <option value="PAYMENT">PAYMENT</option>
                <option value="CASH_IN">CASH_IN</option>
                <option value="TRANSFER">TRANSFER</option>
                <option value="DEBIT">DEBIT</option>
            </select><br>

            <label>Amount:</label>
            <input type="number" step="0.01" name="amount" required><br>

            <label>NameOrig:</label>
            <input type="text" name="nameOrig" required><br>

            <label>Old Balance Orig:</label>
            <input type="number" step="0.01" name="oldbalanceOrg" required><br>

            <label>New Balance Orig:</label>
            <input type="number" step="0.01" name="newbalanceOrig" required><br>

            <label>NameDest:</label>
            <input type="text" name="nameDest" required><br>

            <label>Old Balance Dest:</label>
            <input type="number" step="0.01" name="oldbalanceDest" required><br>

            <label>New Balance Dest:</label>
            <input type="number" step="0.01" name="newbalanceDest" required><br>

            <button type="submit">ЁЯТб Predict</button>
        </form>
        <script>
            const responses = {
                "cybercrime": {
                    en: "Cybercrimes include phishing, ransomware, identity theft, and social engineering attacks. Always verify sources and use strong, unique passwords.",
                    hi: "рд╕рд╛рдЗрдмрд░ рдЕрдкрд░рд╛рдзреЛрдВ рдореЗрдВ рдлрд┐рд╢рд┐рдВрдЧ, рд░реИрдирд╕рдорд╡реЗрдпрд░, рдкрд╣рдЪрд╛рди рдХреА рдЪреЛрд░реА рдФрд░ рд╕реЛрд╢рд▓ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рд╣рдорд▓реЗ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред рд╣рдореЗрд╢рд╛ рд╕реНрд░реЛрддреЛрдВ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░реЗрдВ рдФрд░ рдордЬрдмреВрдд рдкрд╛рд╕рд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред"
                },
                "financial fraud": {
                    en: "Financial fraud often involves fake calls, fake UPI requests, or investment scams. Never share OTP or banking info.",
                    hi: "рд╡рд┐рддреНрддреАрдп рдзреЛрдЦрд╛рдзрдбрд╝реА рдореЗрдВ рдирдХрд▓реА рдХреЙрд▓, рдирдХрд▓реА рдпреВрдкреАрдЖрдИ рдЕрдиреБрд░реЛрдз рдпрд╛ рдирд┐рд╡реЗрд╢ рдШреЛрдЯрд╛рд▓реЗ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреЗ рд╣реИрдВред рдХрднреА рднреА OTP рдпрд╛ рдмреИрдВрдХрд┐рдВрдЧ рдЬрд╛рдирдХрд╛рд░реА рд╕рд╛рдЭрд╛ рди рдХрд░реЗрдВред"
                },
                "deepfake": {
                    en: "Deepfakes are AI-generated fake videos or audios. Always double-check news sources and verify authenticity.",
                    hi: "рдбреАрдкрдлреЗрдХреНрд╕ рдПрдЖрдИ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдП рдЧрдП рдирдХрд▓реА рд╡реАрдбрд┐рдпреЛ рдпрд╛ рдСрдбрд┐рдпреЛ рд╣реЛрддреЗ рд╣реИрдВред рд╣рдореЗрд╢рд╛ рд╕рдорд╛рдЪрд╛рд░ рд╕реНрд░реЛрддреЛрдВ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░реЗрдВ рдФрд░ рдкреНрд░рд╛рдорд╛рдгрд┐рдХрддрд╛ рдЬрд╛рдВрдЪреЗрдВред"
                },
                "privacy": {
                    en: "Protect your privacy by using 2FA, limiting online sharing, and keeping software up to date.",
                    hi: "2FA рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдСрдирд▓рд╛рдЗрди рдЬрд╛рдирдХрд╛рд░реА рд╕реАрдорд┐рдд рдХрд░рдХреЗ рдФрд░ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдХреЛ рдЕрдкрдбреЗрдЯ рд░рдЦрдХрд░ рдЕрдкрдиреА рдЧреЛрдкрдиреАрдпрддрд╛ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХрд░реЗрдВред"
                },
                "safety": {
                    en: "Stay safe by not clicking on unknown links, using antivirus tools, and reporting suspicious activity.",
                    hi: "рдЕрдирдЬрд╛рди рд▓рд┐рдВрдХ рдкрд░ рдХреНрд▓рд┐рдХ рди рдХрд░рдХреЗ, рдПрдВрдЯреАрд╡рд╛рдпрд░рд╕ рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдФрд░ рд╕рдВрджрд┐рдЧреНрдз рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреА рд░рд┐рдкреЛрд░реНрдЯ рдХрд░рдХреЗ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рд╣реЗрдВред"
                }
            };
        
            function sendMessage() {
                const input = document.getElementById('user-input').value.toLowerCase();
                const chatBox = document.getElementById('chat-box');
                let response_en = "Sorry, I don't understand. Try asking about cybercrime, privacy, or deepfakes.";
                let response_hi = "рдорд╛рдлрд╝ рдХреАрдЬрд┐рдП, рдореИрдВ рд╕рдордЭ рдирд╣реАрдВ рдкрд╛рдпрд╛ред рдХреГрдкрдпрд╛ рд╕рд╛рдЗрдмрд░ рдЕрдкрд░рд╛рдз, рдЧреЛрдкрдиреАрдпрддрд╛ рдпрд╛ рдбреАрдкрдлреЗрдХреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреВрдЫреЗрдВред";
        
                for (const key in responses) {
                    if (input.includes(key)) {
                        response_en = responses[key].en;
                        response_hi = responses[key].hi;
                        break;
                    }
                }
        
                chatBox.innerHTML += `<div><strong>You:</strong> ${input}</div>`;
                chatBox.innerHTML += `<div><strong>Bot:</strong> ${response_en}<br><strong>рдмреЙрдЯ:</strong> ${response_hi}</div>`;
                document.getElementById('user-input').value = "";
                chatBox.scrollTop = chatBox.scrollHeight;
            }
        </script>
        
        
        {% if prediction_text %}
            <p class="result {{ 'fraud' if is_fraud else 'not-fraud' }}"><strong>{{ prediction_text }}</strong></p>
        {% endif %}
    </div>
</body>
<div class="chat-container">
    <div class="chat-header">CyberSafe Chatbot ЁЯдЦ</div>
    <div class="chat-box" id="chat-box"></div>
    <p style="color: #ccc; font-size: 12px;">Ask about cybercrime, privacy, deepfakes (рдкреВрдЫреЗрдВ: рд╕рд╛рдЗрдмрд░ рдЕрдкрд░рд╛рдз, рдЧреЛрдкрдиреАрдпрддрд╛, рдбреАрдкрдлреЗрдХреНрд╕)</p>
    <input type="text" id="user-input" placeholder="Ask about safety, fraud, or deepfakes..." />
    <button onclick="sendMessage()">Send</button>
</div>

</html>